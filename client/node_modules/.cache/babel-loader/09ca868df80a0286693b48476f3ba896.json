{"ast":null,"code":"var _jsxFileName = \"F:\\\\College\\\\TEC\\\\BLOG\\\\client\\\\src\\\\atoms\\\\singlePost\\\\SinglePost.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router\";\nimport { Link } from 'react-router-dom';\nimport { Context } from '../../contextApi/Context';\nimport { setUpdateMode } from \"react\";\nimport './singlePost.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SinglePost() {\n  _s();\n\n  const path = useLocation().pathname.split(\"/\")[2];\n  const [post, setPost] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const user = useContext(Context);\n  useEffect(() => {\n    const getPost = async () => {\n      try {\n        const res = await axios.get(`/posts/${path}`);\n        setPost(res.data);\n        setTitle(res.data.title);\n        setDesc(res.data.desc);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    getPost();\n  }, [path]);\n\n  const handleDelete = async e => {\n    try {\n      await axios.delete(`/posts/${post._id}`, {\n        data: {\n          username: user.username\n        }\n      });\n      window.location.replace(\"/\");\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"singlePost\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"singlePostWrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"singlePostTitle\",\n        children: [title, post.username === (user === null || user === void 0 ? void 0 : user.username) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"singlePostEdit\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"singlePostIcon far fa-edit\",\n            onClick: () => setUpdateMode(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"singlePostIcon far fa-trash-alt\",\n            onClick: handleDelete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"singlePostInfo\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"singlePostAuthor\",\n          children: [\"Authour:\", /*#__PURE__*/_jsxDEV(Link, {\n            to: `/?user=${post.username}`,\n            className: \"Link\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: post.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"singlePostDate\",\n          children: new Date(post.createdAt).toDateString\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"content\",\n        children: desc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SinglePost, \"3UiiJ543Yc7VaVNsOUZxd4AHlSk=\", false, function () {\n  return [useLocation];\n});\n\n_c = SinglePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"SinglePost\");","map":{"version":3,"sources":["F:/College/TEC/BLOG/client/src/atoms/singlePost/SinglePost.jsx"],"names":["axios","useContext","useEffect","useState","useLocation","Link","Context","setUpdateMode","SinglePost","path","pathname","split","post","setPost","title","setTitle","desc","setDesc","user","getPost","res","get","data","e","console","log","handleDelete","delete","_id","username","window","location","replace","err","Date","createdAt","toDateString"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useContext,useEffect,useState } from \"react\";\r\nimport { useLocation } from \"react-router\";\r\nimport { Link } from 'react-router-dom';\r\nimport { Context } from '../../contextApi/Context';\r\nimport { setUpdateMode } from \"react\";\r\nimport './singlePost.css';\r\nexport default function SinglePost() {\r\n    const path=useLocation().pathname.split(\"/\")[2];\r\n    const [post,setPost]=useState(\"\");\r\n    const [title,setTitle]=useState(\"\");\r\n    const [desc,setDesc]=useState(\"\");\r\n    const user  = useContext(Context)\r\n\r\n    useEffect(()=>{\r\n        const getPost=async ()=>{\r\n            try{\r\n\r\n                const res= await axios.get(`/posts/${path}`);\r\n                setPost(res.data);\r\n                setTitle(res.data.title);\r\n                setDesc(res.data.desc);\r\n            }\r\n            catch(e){\r\n                console.log(e);\r\n            }\r\n\r\n        };\r\n        getPost();\r\n    },[path]);\r\n\r\n    const handleDelete= async(e)=>{\r\n        try{\r\n\r\n            await axios.delete(`/posts/${post._id}`, {data:{username:user.username}});\r\n            window.location.replace(\"/\")\r\n        }\r\n        catch(err) {}\r\n    };\r\n\r\n    return (\r\n        <div className=\"singlePost\">\r\n            <div className=\"singlePostWrapper\">\r\n                <h1 className=\"singlePostTitle\">{title}\r\n                {post.username === user?.username &&(\r\n                    <div className=\"singlePostEdit\">\r\n                        <i class=\"singlePostIcon far fa-edit\"onClick={()=>setUpdateMode(true)}></i>\r\n                        <i class=\"singlePostIcon far fa-trash-alt\" onClick={handleDelete}></i>\r\n                    </div>\r\n                )}\r\n                </h1>\r\n                <div className=\"singlePostInfo\">\r\n                    <span className=\"singlePostAuthor\">Authour: \r\n                    <Link to={`/?user=${post.username}`} className=\"Link\">\r\n                        <b>{post.username}</b>\r\n                    </Link>\r\n                    </span>\r\n\r\n                    <span className=\"singlePostDate\">{new Date(post.createdAt).toDateString}</span>\r\n                </div>\r\n                <p className=\"content\">{desc}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}